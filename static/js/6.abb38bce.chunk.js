(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[6],{39:function(e,t,n){e.exports=n.p+"static/media/logo.4e74481f.svg"},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(37),r=n.n(a),o=n(38),c=n(8),l=n(0),u=function(){var e=Object(l.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1],u=Object(l.useState)(),i=Object(c.a)(u,2),s=i[0],p=i[1],m=Object(l.useRef)([]),f=Object(l.useCallback)(function(){var e=Object(o.a)(r.a.mark((function e(t){var n,o,c,l,u,i,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"GET",o=s.length>2&&void 0!==s[2]?s[2]:null,c=s.length>3&&void 0!==s[3]?s[3]:{},a(!0),l=new AbortController,m.current.push(l),e.prev=6,e.next=9,fetch(t,{method:n,body:o,headers:c,signal:l.signal});case 9:return u=e.sent,e.next=12,u.json();case 12:if(i=e.sent,m.current=m.current.filter((function(e){return e!==l})),u.ok){e.next=16;break}throw new Error(i.message);case 16:return a(!1),e.abrupt("return",i);case 20:throw e.prev=20,e.t0=e.catch(6),p("Unable to reach the server! Try again later..."),a(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(l.useEffect)((function(){return function(){m.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:n,error:s,sendRequest:f,clearError:function(){p(null)}}}},41:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(35);function c(){var e=Object(o.a)(["\n\theight: 35px;\n\twidth: 90px;\n\tbackground: #0d0d0d;\n\tborder: 1px solid #ffff33;\n\tcolor: #fff;\n\tfont-weight: bold;\n\tcursor: pointer;\n\ttext-decoration: none;\n\tdisplay: inline-block;\n\tborder-radius: 3px;\n\tfont-size: 14px;\n\n\t&:hover{\n\t\tcolor: #000000;\n\t\tbackground: #fff;\n\t\ttransition: 0.3s;\n\t}\n\n\t&:disabled,\n\t&:hover:disabled,\n\t&:active:disabled {\n\t\tbackground: #ccc;\n\t\tcolor: #979797;\n\t\tborder-color: #ccc;\n\t\tcursor: not-allowed;\n\t}\n"]);return c=function(){return e},e}var l=n(36).a.button(c());t.a=function(e){return r.a.createElement(l,{type:e.type,onClick:e.onClick,disabled:e.disabled},e.children)}},42:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1),c=n(35);function l(){var e=Object(c.a)(["\n\n\t&:hover{\n\t\tcursor: pointer;\n\t}\n\tbackground: rgba(0,0,0,0);\n\tborder: none;\n\n\timg{\n\t\twidth: 90px;\n\theight: 70px;\n\tborder-radius: 5px;\n\tpadding-left: 20px;\n\t}\n"]);return l=function(){return e},e}var u=n(36).a.button(l()),i=n(39),s=n.n(i),p=n(13);t.a=function(){var e=Object(o.g)();return r.a.createElement(u,{onClick:function(){e.push("/")}},r.a.createElement("img",{src:s.a,alt:"Logo"}),r.a.createElement(p.b,{to:"/"}))}},43:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l}));var a=n(47),r=function(){return{type:"REQUIRE"}},o=function(e){return{type:"MINLENGTH",val:e}},c=function(){return{type:"EMAIL"}},l=function(e,t){var n,r=!0,o=Object(a.a)(t);try{for(o.s();!(n=o.n()).done;){var c=n.value;"REQUIRE"===c.type&&(r=r&&e.length>0),"MINLENGTH"===c.type&&(r=r&&e.length>=c.val),"MAXLENGTH"===c.type&&(r=r&&e.length<=c.val),"MIN"===c.type&&(r=r&&+e>=c.val),"MAX"===c.type&&(r=r&&+e<=c.val),"EMAIL"===c.type&&(r=r&&/^\S+@\S+\.\S+$/.test(e))}}catch(l){o.e(l)}finally{o.f()}return r}},44:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(35);function c(){var e=Object(o.a)(["\n  display: flex;\n  position: relative;\n\tmargin-bottom: 2rem;\n\n  input {\n    background-color: #00001a;\n    border: 2px solid #cccc00;\n    border-radius: 3px;\n    padding: 16px;\n    color: #fff;\n    font-size: 16px;\n    transition: 180ms ease-in-out;\n    &::placeholder {\n      color: rgba(255, 255, 255, 0.4);\n    }\n\n    &:focus {\n      border: 2px solid;\n    }\n  }\n"]);return c=function(){return e},e}var l=n(36).a.label(c());t.a=function(e){var t=e.name,n=e.type,a=void 0===n?"text":n,o=e.value,c=e.setValue,u=e.placeholder;return r.a.createElement(l,{htmlFor:t},r.a.createElement("input",{name:t,type:a,value:o,placeholder:u,onChange:function(e){return c(e.target.value)}}))}},70:function(e,t,n){"use strict";n.r(t);var a=n(37),r=n.n(a),o=n(38),c=n(8),l=n(0),u=n.n(l),i=n(45),s=n.n(i),p=n(41),m=n(44),f=n(40),d=n(15),b=n(14),g=n(42),v=n(43),h=n(35),E=n(36);function x(){var e=Object(h.a)(["\ncolor: #ff3333;\nmargin-left: 50px;\n"]);return x=function(){return e},e}function O(){var e=Object(h.a)(["\n\tmargin: 10px;\n\tmargin-left: 30px;\n\tButton {\n\t\tmargin-left: 5px;\n\t\tfont-weight: 400;\n    height: auto;\n    font-size: 12px;\n\t}\n\tsmall{\n\t\tcolor: #fff;\n\t}\n"]);return O=function(){return e},e}function y(){var e=Object(h.a)(["\n\tbackground: #262626;\n\twidth: 320px;\n\tmargin: 180px auto;\n\tpadding: 10px;\n\tborder-radius: 5px;\n\n\t\tbutton img{\n\t\t\twidth: 100px;\n\t\t\tmargin-left: 90px;\n\t\t}\n\n\t\th1{\n\t\t\tcolor: #fff;\n\t\t\tmargin-bottom: 10px;\n\t\t\tmargin-left: 110px;\n\t\t}\n\t\tform label{\n\t\t\tjustify-content: space-evenly;\n\t\t}\n\t\tform Button {\n\t\t\twidth: 220px;\n\t\t\tmargin-left: 40px;\n\t\t\tfont-size: 16px;\n\t\t}\n"]);return y=function(){return e},e}var j=E.a.div(y()),k=E.a.div(O()),w=E.a.small(x()),S={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.75)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"#262626",color:"#fff",fontWeigth:"bold"}};s.a.setAppElement("#root");t.default=function(){var e=Object(l.useState)(""),t=Object(c.a)(e,2),n=t[0],a=t[1],i=Object(l.useState)(""),h=Object(c.a)(i,2),E=h[0],x=h[1],O=Object(l.useState)(""),y=Object(c.a)(O,2),C=y[0],L=y[1],R=Object(l.useState)(!0),I=Object(c.a)(R,2),N=I[0],T=I[1],M=Object(l.useState)(!1),P=Object(c.a)(M,2),A=P[0],J=P[1],V=Object(f.a)(),q=V.sendRequest,z=V.isLoading,F=Object(l.useContext)(d.a),G=Object(v.d)(n,[Object(v.a)(),Object(v.c)()]),U=Object(v.d)(E,[Object(v.b)(6)]),H=Object(v.d)(C,[Object(v.c)()]),B=Object(l.useState)(!1),D=Object(c.a)(B,2),Q=D[0],X=D[1],W=Object(l.useState)("Message delivered succesfully"),$=Object(c.a)(W,2),K=$[0],Y=$[1];function Z(){X((function(e){return!e}))}var _=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!A){e.next=16;break}return e.prev=2,e.next=5,q("".concat("https://starwars-mini-pedia.herokuapp.com/api","/users/forgot"),"POST",JSON.stringify({email:n}),{"Content-Type":"application/json"});case 5:a=e.sent,Y(a.message),Z(),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0),Y("Unexpected error, please check your email and try again"),Z();case 15:return e.abrupt("return");case 16:if(!N){e.next=33;break}return e.prev=17,e.next=20,q("".concat("https://starwars-mini-pedia.herokuapp.com/api","/users/login"),"POST",JSON.stringify({email:n,password:E}),{"Content-Type":"application/json"});case 20:o=e.sent,F.login(o.userId,o.token),Y(o.message),Z(),e.next=31;break;case 26:e.prev=26,e.t1=e.catch(17),console.log(e.t1),Y(e.t1.message),Z();case 31:e.next=47;break;case 33:return e.prev=33,e.next=36,q("".concat("https://starwars-mini-pedia.herokuapp.com/api","/users/signup"),"POST",JSON.stringify({email:n,password:E,name:C}),{"Content-Type":"application/json"});case 36:c=e.sent,F.login(c.userId,c.token),Y(c.message),Z(),e.next=47;break;case 42:e.prev=42,e.t2=e.catch(33),console.log(e.t2),Y(e.t2.message),Z();case 47:case"end":return e.stop()}}),e,null,[[2,10],[17,26],[33,42]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){J((function(e){return!e}))};return A?u.a.createElement(u.a.Fragment,null,z&&u.a.createElement(b.a,null),u.a.createElement(s.a,{isOpen:Q,onRequestClose:Z,style:S,contentLabel:"Alert Modal"},u.a.createElement("div",null,K),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(p.a,{onClick:Z},"Close")),u.a.createElement(j,null,u.a.createElement(g.a,null),u.a.createElement("form",{onSubmit:_},!G&&u.a.createElement(w,null,"Please enter a valid email address"),u.a.createElement(m.a,{type:"email",name:"userEmail",placeholder:"Email",value:n,setValue:a}),u.a.createElement(p.a,{type:"submit"},"Send me an e-mail!")),u.a.createElement(k,null,u.a.createElement("small",null,"I remember my password"),u.a.createElement(p.a,{onClick:ee},"Login")))):u.a.createElement(u.a.Fragment,null,z&&u.a.createElement(b.a,{asOverLay:!0}),u.a.createElement(s.a,{isOpen:Q,onRequestClose:Z,style:S,contentLabel:"Alert Modal"},u.a.createElement("div",null,K),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(p.a,{onClick:Z},"Close")),u.a.createElement(j,null,u.a.createElement(g.a,null),u.a.createElement("form",{onSubmit:_},!N&&u.a.createElement(u.a.Fragment,null,!H&&u.a.createElement(w,null,"Please enter your name"),u.a.createElement(m.a,{type:"text",name:"userName",placeholder:"Name",value:C,setValue:L})),!G&&u.a.createElement(w,null,"Please enter a valid email address"),u.a.createElement(m.a,{type:"email",name:"userEmail",placeholder:"Email",value:n,setValue:a}),!U&&u.a.createElement(w,null,"Password min 6 chars"),u.a.createElement(m.a,{type:"password",name:"userPass",placeholder:"Password",value:E,setValue:x}),u.a.createElement(p.a,{type:"submit"},N?"Login":"Register")),u.a.createElement(k,null,u.a.createElement("small",null,N?"Don't have an account?":"Already have an account?"),u.a.createElement(p.a,{onClick:function(){T((function(e){return!e}))}},N?"Signup":"Login")),u.a.createElement(k,null,u.a.createElement("small",null,"I forgot my password"),u.a.createElement(p.a,{onClick:ee},"Reset Password"))))}}}]);
//# sourceMappingURL=6.abb38bce.chunk.js.map