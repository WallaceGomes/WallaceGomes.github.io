{"version":3,"sources":["assets/logo.svg","hooks/http-hook.js","components/Button/styles.js","components/Button/index.js","components/Logo/styles.js","components/Logo/index.js","components/Input/styles.js","components/Input/index.js","util/validators.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","pages/Login/styles.js","pages/Login/index.js"],"names":["module","exports","useHttpClient","useState","isLoading","setIsLoading","error","setError","activeHttpRequests","useRef","sendRequest","useCallback","url","a","method","body","headers","httpAbortCtrl","AbortController","current","push","fetch","signal","response","json","responseData","filter","reqCtrl","ok","Error","message","useEffect","forEach","abortCtrl","abort","clearError","StyledButton","styled","button","Button","props","type","onClick","disabled","children","MainLogo","Logo","src","logo","alt","to","Label","label","Input","name","value","setValue","placeholder","htmlFor","onChange","e","target","VALIDATOR_REQUIRE","VALIDATOR_MINLENGTH","val","VALIDATOR_EMAIL","validate","validators","isValid","o","Symbol","iterator","Array","isArray","unsupportedIterableToArray","i","F","s","n","length","done","_e","f","TypeError","it","err","normalCompletion","didErr","step","next","_e2","validator","test","Container","div","SwitchMode","Validate","small","Login","userEmail","setUserEmail","userPassword","setUserPassword","userName","setUserName","isLoginMode","setIsLoginMode","isForgotMode","setForgotMode","auth","useContext","AuthContext","isEmailValid","isPasswordValid","isUserNameValid","authSubmitHandler","event","preventDefault","process","JSON","stringify","email","alert","console","log","password","login","userId","token","switchForgotModeHandler","prevMode","asOverLay","onSubmit"],"mappings":"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","file":"static/js/4.d706b313.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.4e74481f.svg\";","import { useState, useCallback, useRef, useEffect } from 'react';\n\nexport const useHttpClient = () => {\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [error, setError] = useState();\n\n\tconst activeHttpRequests = useRef([]);\n\n\t//useCallback = evitar que essa função seja recriada toda vez que um component\n\t// que utiliza este hook rerender\n\tconst sendRequest = useCallback(\n\t\tasync (url, method = 'GET', body = null, headers = {}) => {\n\t\t\tsetIsLoading(true);\n\n\t\t\t//caso o usuário realise alguma ação inesperada durante a aperação\n\t\t\tconst httpAbortCtrl = new AbortController();\n\t\t\tactiveHttpRequests.current.push(httpAbortCtrl);\n\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(url, {\n\t\t\t\t\tmethod: method,\n\t\t\t\t\tbody: body,\n\t\t\t\t\theaders: headers,\n\t\t\t\t\tsignal: httpAbortCtrl.signal\n\t\t\t\t});\n\n\t\t\t\tconst responseData = await response.json();\n\n\t\t\t\tactiveHttpRequests.current = activeHttpRequests.current.filter(\n\t\t\t\t\treqCtrl => reqCtrl !== httpAbortCtrl\n\t\t\t\t);\n\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(responseData.message);\n\t\t\t\t}\n\t\t\t\tsetIsLoading(false);\n\t\t\t\treturn responseData;\n\t\t\t} catch (err) {\n\t\t\t\tsetError(err.message);\n\t\t\t\tsetIsLoading(false);\n\t\t\t\t//caso ocorra algum erro precisa do throw para sair\n\t\t\t\t// se não vai continuar a lógica no componente\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t}, []);\n\n\tconst clearError = () => {\n\t\tsetError(null);\n\t};\n\n\t//useEffect também pode ser usado no unmount do componente\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\t\tactiveHttpRequests.current.forEach(abortCtrl => abortCtrl.abort());\n\t\t};\n\t}, []);\n\n\treturn { isLoading, error, sendRequest, clearError };\n};\n","import styled from 'styled-components';\n\nexport const StyledButton = styled.button`\n\theight: 35px;\n\twidth: 90px;\n\tbackground: #0d0d0d;\n\tborder: 1px solid #ffff33;\n\tcolor: #fff;\n\tfont-weight: bold;\n\tcursor: pointer;\n\ttext-decoration: none;\n\tdisplay: inline-block;\n\tborder-radius: 3px;\n\tfont-size: 14px;\n\n\t&:hover{\n\t\tcolor: #000000;\n\t\tbackground: #fff;\n\t\ttransition: 0.3s;\n\t}\n\n\t&:disabled,\n\t&:hover:disabled,\n\t&:active:disabled {\n\t\tbackground: #ccc;\n\t\tcolor: #979797;\n\t\tborder-color: #ccc;\n\t\tcursor: not-allowed;\n\t}\n`;\n","import React from 'react';\n\nimport { StyledButton } from './styles';\n\nconst Button = props => {\n\treturn (\n\t\t<StyledButton\n\t\t\ttype={props.type}\n\t\t\tonClick={props.onClick}\n\t\t\tdisabled={props.disabled}\n\t\t>\n\t\t\t{props.children}\n\t\t</StyledButton>\n\t);\n};\n\nexport default Button;\n","import styled from 'styled-components';\n\nexport const MainLogo = styled.button`\n\n\t&:hover{\n\t\tcursor: pointer;\n\t}\n\tbackground: rgba(0,0,0,0);\n\tborder: none;\n\n\timg{\n\t\twidth: 90px;\n\theight: 70px;\n\tborder-radius: 5px;\n\tpadding-left: 20px;\n\t}\n`;\n","import React from 'react';\n\nimport { MainLogo } from './styles';\nimport logo from '../../assets/logo.svg';\nimport { Link } from 'react-router-dom';\n\n//aqui dá pra fazer a logo dinâmica\n//trocar a por link depois\nconst Logo = () => {\n\treturn <MainLogo><img src={logo} alt=\"Logo\" /><Link to=\"/\"></Link></MainLogo>;\n};\n\nexport default Logo;\n","import styled from 'styled-components';\n\nexport const Label = styled.label`\n  display: flex;\n  position: relative;\n\tmargin-bottom: 2rem;\n\n  input {\n    background-color: #00001a;\n    border: 2px solid #cccc00;\n    border-radius: 3px;\n    padding: 16px;\n    color: #fff;\n    font-size: 16px;\n    transition: 180ms ease-in-out;\n    &::placeholder {\n      color: rgba(255, 255, 255, 0.4);\n    }\n\n    &:focus {\n      border: 2px solid;\n    }\n  }\n`;\n","import React from 'react';\n\nimport { Label } from './styles';\n\nconst Input = ({ name, type = 'text', value, setValue, placeholder }) => {\n\n\treturn (\n\t\t<Label htmlFor={name}>\n\t\t\t<input\n\t\t\t\tname={name}\n\t\t\t\ttype={type}\n\t\t\t\tvalue={value}\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\tonChange={(e) => setValue(e.target.value)}\n\t\t\t/>\n\t\t</Label>\n\t);\n\n}\n\nexport default Input;\n","const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\nconst VALIDATOR_TYPE_MIN = 'MIN';\nconst VALIDATOR_TYPE_MAX = 'MAX';\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\nconst VALIDATOR_TYPE_FILE = 'FILE';\n\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\nexport const VALIDATOR_MINLENGTH = val => ({\n\ttype: VALIDATOR_TYPE_MINLENGTH,\n\tval: val\n});\nexport const VALIDATOR_MAXLENGTH = val => ({\n\ttype: VALIDATOR_TYPE_MAXLENGTH,\n\tval: val\n});\nexport const VALIDATOR_MIN = val => ({ type: VALIDATOR_TYPE_MIN, val: val });\nexport const VALIDATOR_MAX = val => ({ type: VALIDATOR_TYPE_MAX, val: val });\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\n\n//função que recebe o valor que o usuário digita e checa por todos os validators que foram passados como props\nexport const validate = (value, validators) => {\n\tlet isValid = true;\n\tfor (const validator of validators) {\n\t\tif (validator.type === VALIDATOR_TYPE_REQUIRE) {\n\t\t\tisValid = isValid && value.length > 0;\n\t\t}\n\t\tif (validator.type === VALIDATOR_TYPE_MINLENGTH) {\n\t\t\tisValid = isValid && value.length >= validator.val;\n\t\t}\n\t\tif (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\n\t\t\tisValid = isValid && value.length <= validator.val;\n\t\t}\n\t\tif (validator.type === VALIDATOR_TYPE_MIN) {\n\t\t\tisValid = isValid && +value >= validator.val;\n\t\t}\n\t\tif (validator.type === VALIDATOR_TYPE_MAX) {\n\t\t\tisValid = isValid && +value <= validator.val;\n\t\t}\n\t\tif (validator.type === VALIDATOR_TYPE_EMAIL) {\n\t\t\tisValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\n\t\t}\n\t}\n\treturn isValid;\n};\n","import unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import styled from 'styled-components';\n\nexport const Container = styled.div`\n\tbackground: #262626;\n\twidth: 320px;\n\tmargin: 180px auto;\n\tpadding: 10px;\n\tborder-radius: 5px;\n\n\t\tbutton img{\n\t\t\twidth: 100px;\n\t\t\tmargin-left: 90px;\n\t\t}\n\n\t\th1{\n\t\t\tcolor: #fff;\n\t\t\tmargin-bottom: 10px;\n\t\t\tmargin-left: 110px;\n\t\t}\n\t\tform label{\n\t\t\tjustify-content: space-evenly;\n\t\t}\n\t\tform Button {\n\t\t\twidth: 220px;\n\t\t\tmargin-left: 40px;\n\t\t\tfont-size: 16px;\n\t\t}\n`;\n\nexport const SwitchMode = styled.div`\n\tmargin: 10px;\n\tmargin-left: 30px;\n\tButton {\n\t\tmargin-left: 5px;\n\t\tfont-weight: 400;\n    height: auto;\n    font-size: 12px;\n\t}\n\tsmall{\n\t\tcolor: #fff;\n\t}\n`;\n\nexport const Validate = styled.small`\ncolor: #ff3333;\nmargin-left: 50px;\n`;\n","import React, { useState, useContext } from 'react';\nimport Button from '../../components/Button';\nimport Input from '../../components/Input';\nimport { useHttpClient } from '../../hooks/http-hook';\nimport { AuthContext } from '../../util/AuthContext';\nimport LoadingSpinner from '../../components/LoadingSpiner';\nimport Logo from '../../components/Logo';\nimport { validate, VALIDATOR_EMAIL, VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE } from '../../util/validators';\n\nimport { Container, SwitchMode, Validate } from './styles';\n\n//TODO : Validation\n\nconst Login = () => {\n\tconst [userEmail, setUserEmail] = useState('');\n\tconst [userPassword, setUserPassword] = useState('');\n\tconst [userName, setUserName] = useState('');\n\n\tconst [isLoginMode, setIsLoginMode] = useState(true);\n\tconst [isForgotMode, setForgotMode] = useState(false);\n\tconst { sendRequest, isLoading } = useHttpClient();\n\n\tconst auth = useContext(AuthContext);\n\n\t//isso aqui está horrivel e dá pra melhorar, é temporário...\n\tconst isEmailValid = validate(userEmail, [VALIDATOR_EMAIL(), VALIDATOR_REQUIRE()]);\n\tconst isPasswordValid = validate(userPassword, [VALIDATOR_MINLENGTH(6)]);\n\tconst isUserNameValid = validate(userName, [VALIDATOR_REQUIRE()])\n\n\tconst authSubmitHandler = async (event) => {\n\t\tevent.preventDefault();\n\n\t\tif (isForgotMode) {\n\t\t\ttry {\n\t\t\t\tconst response = await sendRequest(\n\t\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/users/forgot`,\n\t\t\t\t\t'POST',\n\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\temail: userEmail,\n\t\t\t\t\t}),\n\t\t\t\t\t{\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t\tif (response.message === \"Message delivered succesfully\") {\n\t\t\t\t\talert('Check your email for the reset link!');\n\t\t\t\t}\n\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (isLoginMode) {\n\t\t\ttry {\n\t\t\t\tconst response = await sendRequest(\n\t\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/users/login`,\n\t\t\t\t\t'POST',\n\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\temail: userEmail,\n\t\t\t\t\t\tpassword: userPassword,\n\t\t\t\t\t}),\n\t\t\t\t\t{\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t\tauth.login(response.userId, response.token);\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log(err);\n\t\t\t\talert(err.message);\n\t\t\t}\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tconst response = await sendRequest(\n\t\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/users/signup`,\n\t\t\t\t\t'POST',\n\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\temail: userEmail,\n\t\t\t\t\t\tpassword: userPassword,\n\t\t\t\t\t\tname: userName,\n\t\t\t\t\t}),\n\t\t\t\t\t{\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t\tauth.login(response.userId, response.token);\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log(err);\n\t\t\t\talert(err.message);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst switchForgotModeHandler = () => {\n\t\tsetForgotMode((prevMode) => !prevMode);\n\t}\n\n\tconst switchModeHandler = () => {\n\t\tsetIsLoginMode((prevMode) => !prevMode);\n\t};\n\n\tif (isForgotMode) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{isLoading && <LoadingSpinner asOverLay />}\n\t\t\t\t<Container>\n\t\t\t\t\t<Logo></Logo>\n\t\t\t\t\t<form onSubmit={authSubmitHandler}>\n\t\t\t\t\t\t{!isEmailValid && (\n\t\t\t\t\t\t\t<Validate>Please enter a valid email address</Validate>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\tname=\"userEmail\"\n\t\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\t\tvalue={userEmail}\n\t\t\t\t\t\t\tsetValue={setUserEmail}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button type=\"submit\">Send me an e-mail!</Button>\n\t\t\t\t\t</form>\n\t\t\t\t\t<SwitchMode>\n\t\t\t\t\t\t<small>I remember my password</small>\n\t\t\t\t\t\t<Button onClick={switchForgotModeHandler}>\n\t\t\t\t\t\t\tLogin\n\t\t\t\t\t</Button>\n\t\t\t\t\t</SwitchMode>\n\t\t\t\t</Container>\n\t\t\t</>\n\t\t)\n\t}\n\t//loading spinner\n\treturn (\n\t\t<>\n\t\t\t{isLoading && <LoadingSpinner asOverLay />}\n\t\t\t<Container>\n\t\t\t\t<Logo></Logo>\n\t\t\t\t<form onSubmit={authSubmitHandler}>\n\t\t\t\t\t{!isEmailValid && (\n\t\t\t\t\t\t<Validate>Please enter a valid email address</Validate>\n\t\t\t\t\t)}\n\t\t\t\t\t<Input\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tname=\"userEmail\"\n\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\tvalue={userEmail}\n\t\t\t\t\t\tsetValue={setUserEmail}\n\t\t\t\t\t/>\n\t\t\t\t\t{!isLoginMode && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{!isUserNameValid && (\n\t\t\t\t\t\t\t\t<Validate>Please enter your name</Validate>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"userName\"\n\t\t\t\t\t\t\t\tplaceholder=\"Name\"\n\t\t\t\t\t\t\t\tvalue={userName}\n\t\t\t\t\t\t\t\tsetValue={setUserName}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t{!isPasswordValid && (\n\t\t\t\t\t\t<Validate>Password min 6 chars</Validate>\n\t\t\t\t\t)}\n\t\t\t\t\t<Input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tname=\"userPass\"\n\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\tvalue={userPassword}\n\t\t\t\t\t\tsetValue={setUserPassword}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button type=\"submit\">{isLoginMode ? 'Login' : 'Register'}</Button>\n\t\t\t\t</form>\n\t\t\t\t<SwitchMode>\n\t\t\t\t\t<small>{isLoginMode ? `Don't have an account?` : 'Already have an account?'}</small>\n\t\t\t\t\t<Button onClick={switchModeHandler}>\n\t\t\t\t\t\t{isLoginMode ? 'Signup' : 'Login'}\n\t\t\t\t\t</Button>\n\t\t\t\t</SwitchMode>\n\t\t\t\t<SwitchMode>\n\t\t\t\t\t<small>I forgot my password</small>\n\t\t\t\t\t<Button onClick={switchForgotModeHandler}>\n\t\t\t\t\t\tReset Password\n\t\t\t\t\t</Button>\n\t\t\t\t</SwitchMode>\n\t\t\t</Container>\n\t\t</>\n\t);\n};\n\nexport default Login;\n"],"sourceRoot":""}