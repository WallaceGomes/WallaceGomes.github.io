(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[5],{39:function(t,e,n){t.exports=n.p+"static/media/logo.4e74481f.svg"},40:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(37),r=n.n(a),c=n(38),l=n(8),o=n(0),i=function(){var t=Object(o.useState)(!1),e=Object(l.a)(t,2),n=e[0],a=e[1],i=Object(o.useState)(),u=Object(l.a)(i,2),s=u[0],p=u[1],m=Object(o.useRef)([]),d=Object(o.useCallback)(function(){var t=Object(c.a)(r.a.mark((function t(e){var n,c,l,o,i,u,s=arguments;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"GET",c=s.length>2&&void 0!==s[2]?s[2]:null,l=s.length>3&&void 0!==s[3]?s[3]:{},a(!0),o=new AbortController,m.current.push(o),t.prev=6,t.next=9,fetch(e,{method:n,body:c,headers:l,signal:o.signal});case 9:return i=t.sent,t.next=12,i.json();case 12:if(u=t.sent,m.current=m.current.filter((function(t){return t!==o})),i.ok){t.next=16;break}throw new Error(u.message);case 16:return a(!1),t.abrupt("return",u);case 20:throw t.prev=20,t.t0=t.catch(6),p("Unable to reach the server! Try again later..."),a(!1),t.t0;case 25:case"end":return t.stop()}}),t,null,[[6,20]])})));return function(e){return t.apply(this,arguments)}}(),[]);return Object(o.useEffect)((function(){return function(){m.current.forEach((function(t){return t.abort()}))}}),[]),{isLoading:n,error:s,sendRequest:d,clearError:function(){p(null)}}}},41:function(t,e,n){"use strict";var a=n(0),r=n.n(a),c=n(35);function l(){var t=Object(c.a)(["\n\theight: 35px;\n\twidth: 90px;\n\tbackground: #0d0d0d;\n\tborder: 1px solid #ffff33;\n\tcolor: #fff;\n\tfont-weight: bold;\n\tcursor: pointer;\n\ttext-decoration: none;\n\tdisplay: inline-block;\n\tborder-radius: 3px;\n\tfont-size: 14px;\n\n\t&:hover{\n\t\tcolor: #000000;\n\t\tbackground: #fff;\n\t\ttransition: 0.3s;\n\t}\n\n\t&:disabled,\n\t&:hover:disabled,\n\t&:active:disabled {\n\t\tbackground: #ccc;\n\t\tcolor: #979797;\n\t\tborder-color: #ccc;\n\t\tcursor: not-allowed;\n\t}\n"]);return l=function(){return t},t}var o=n(36).a.button(l());e.a=function(t){return r.a.createElement(o,{type:t.type,onClick:t.onClick,disabled:t.disabled},t.children)}},42:function(t,e,n){"use strict";var a=n(0),r=n.n(a),c=n(1),l=n(35);function o(){var t=Object(l.a)(["\n\n\t&:hover{\n\t\tcursor: pointer;\n\t}\n\tbackground: rgba(0,0,0,0);\n\tborder: none;\n\n\timg{\n\t\twidth: 90px;\n\theight: 70px;\n\tborder-radius: 5px;\n\tpadding-left: 20px;\n\t}\n"]);return o=function(){return t},t}var i=n(36).a.button(o()),u=n(39),s=n.n(u),p=n(13);e.a=function(){var t=Object(c.g)();return r.a.createElement(i,{onClick:function(){t.push("/")}},r.a.createElement("img",{src:s.a,alt:"Logo"}),r.a.createElement(p.b,{to:"/"}))}},43:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l})),n.d(e,"d",(function(){return o}));var a=n(47),r=function(){return{type:"REQUIRE"}},c=function(t){return{type:"MINLENGTH",val:t}},l=function(){return{type:"EMAIL"}},o=function(t,e){var n,r=!0,c=Object(a.a)(e);try{for(c.s();!(n=c.n()).done;){var l=n.value;"REQUIRE"===l.type&&(r=r&&t.length>0),"MINLENGTH"===l.type&&(r=r&&t.length>=l.val),"MAXLENGTH"===l.type&&(r=r&&t.length<=l.val),"MIN"===l.type&&(r=r&&+t>=l.val),"MAX"===l.type&&(r=r&&+t<=l.val),"EMAIL"===l.type&&(r=r&&/^\S+@\S+\.\S+$/.test(t))}}catch(o){c.e(o)}finally{c.f()}return r}},44:function(t,e,n){"use strict";var a=n(0),r=n.n(a),c=n(35);function l(){var t=Object(c.a)(["\n  display: flex;\n  position: relative;\n\tmargin-bottom: 2rem;\n\n  input {\n    background-color: #00001a;\n    border: 2px solid #cccc00;\n    border-radius: 3px;\n    padding: 16px;\n    color: #fff;\n    font-size: 16px;\n    transition: 180ms ease-in-out;\n    &::placeholder {\n      color: rgba(255, 255, 255, 0.4);\n    }\n\n    &:focus {\n      border: 2px solid;\n    }\n  }\n"]);return l=function(){return t},t}var o=n(36).a.label(l());e.a=function(t){var e=t.name,n=t.type,a=void 0===n?"text":n,c=t.value,l=t.setValue,i=t.placeholder;return r.a.createElement(o,{htmlFor:e},r.a.createElement("input",{name:e,type:a,value:c,placeholder:i,onChange:function(t){return l(t.target.value)}}))}},48:function(t,e,n){"use strict";var a=n(0),r=n.n(a),c=n(35);function l(){var t=Object(c.a)(["\n\twidth: 100%;\n  height: 4rem;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n\tbackground: rgba(0, 0, 0, 0.3);\n\tbox-shadow: 0 2px 6px rgba(0, 0, 0, 0.26);\n\tpadding-right: 10rem;\n\tpadding-left: 9rem;\n\n\t@media(max-width: 800px){\n\t\tpadding-right: 5rem;\n\tpadding-left: 4rem;\n}\n"]);return l=function(){return t},t}var o=n(36).a.header(l());e.a=function(t){return r.a.createElement(o,null," ",t.children," ")}},71:function(t,e,n){"use strict";n.r(e);var a=n(37),r=n.n(a),c=n(67),l=n(38),o=n(8),i=n(0),u=n.n(i),s=n(45),p=n.n(s),m=n(66),d=n(44),f=n(41),b=n(48),g=n(14),h=n(42),E=n(35),v=n(36);function x(){var t=Object(E.a)(["\ncolor: #ff3333;\nmargin-left: 50px;\n"]);return x=function(){return t},t}function O(){var t=Object(E.a)(["\n\tbackground: #262626;\n\twidth: 320px;\n\tmargin: 180px auto;\n\tpadding: 10px;\n\tborder-radius: 5px;\n\n\t\tbutton img{\n\t\t\twidth: 100px;\n\t\t\tmargin-left: 90px;\n\t\t}\n\n\t\th1{\n\t\t\tcolor: #fff;\n\t\t\tmargin-bottom: 10px;\n\t\t\tmargin-left: 110px;\n\t\t}\n\t\tform label{\n\t\t\tjustify-content: space-evenly;\n\t\t}\n\t\tform Button {\n\t\t\twidth: 220px;\n\t\t\tmargin-left: 40px;\n\t\t\tfont-size: 16px;\n\t\t}\n"]);return O=function(){return t},t}function j(){var t=Object(E.a)(["\n\tbackground: rgba(217, 217, 217, 0.4);\n\tmax-width: 100%;\n\tpadding: 10px;\n\tmargin-top: 5px;\n\tmargin-bottom: 5px;\n\n\tdisplay: grid;\n\tgrid-gap: 50px;\n\tgrid-template-columns: 10% 2fr 2fr 0.5fr 0.5fr;\n\tspan{\n\t\tjustify-items: start;\n\n\t\tsvg{\n\t\t\t&:hover{\n\t\t\tcursor: pointer;\n\t\t}\n\t\t}\n\t}\n"]);return j=function(){return t},t}function y(){var t=Object(E.a)(["\n\tbackground: rgba(217, 217, 217, 0.4);\n\tmax-width: 100%;\n\tpadding: 10px;\n\tmargin-top: 5px;\n\tmargin-bottom: 5px;\n\n\tdisplay: grid;\n\tgrid-gap: 40px;\n\tgrid-template-columns: 1fr 2fr 2fr 0.5fr 0.5fr;\n\tspan{\n\t\tjustify-items: start;\n\t}\n"]);return y=function(){return t},t}function w(){var t=Object(E.a)(["\n\tbackground: rgba(115, 115, 115, 0.4);\n\twidth: 90%vh;\n\tmax-width: 100%;\n\tmin-width: 1000px;\n\theight: 700px;\n\tborder-radius: 20px;\n\tmargin: 20px;\n\tmargin-top: 100px;\n\tpadding: 20px;\n\tHeader{\n\t\tposition: relative;\n\t\th1{\n\t\t\tcolor: #fff;\n\t\t}\n\t}\n"]);return w=function(){return t},t}var k=v.a.section(w()),C=v.a.section(y()),S=v.a.section(j()),N=v.a.div(O()),L=v.a.small(x()),A=n(43),I=n(40),R=n(15),T={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.75)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"#262626",color:"#fff",fontWeigth:"bold"}};p.a.setAppElement("#root");e.default=function(){var t=Object(i.useContext)(R.a),e=Object(I.a)(),n=e.sendRequest,a=e.isLoading,s=Object(i.useState)([]),E=Object(o.a)(s,2),v=E[0],x=E[1],O=Object(i.useState)(""),j=Object(o.a)(O,2),y=j[0],w=j[1],M=Object(i.useState)(""),U=Object(o.a)(M,2),P=U[0],z=U[1],V=Object(i.useState)(Number),D=Object(o.a)(V,2),_=D[0],G=D[1],H=Object(i.useState)(""),J=Object(o.a)(H,2),q=J[0],B=J[1],F=Object(i.useState)(""),Q=Object(o.a)(F,2),X=Q[0],W=Q[1],$=Object(i.useState)(""),K=Object(o.a)($,2),Y=K[0],Z=K[1],tt=Object(i.useState)(!1),et=Object(o.a)(tt,2),nt=et[0],at=et[1],rt=Object(i.useState)(!1),ct=Object(o.a)(rt,2),lt=ct[0],ot=ct[1],it=Object(A.d)(q,[Object(A.a)(),Object(A.c)()]),ut=Object(A.d)(Y,[Object(A.b)(6)]),st=Object(A.d)(X,[Object(A.c)()]),pt=Object(A.d)(y,[Object(A.c)()]),mt=Object(A.d)(P,[Object(A.a)(),Object(A.c)()]),dt=JSON.parse(localStorage.getItem("userData")),ft=Object(i.useState)(!1),bt=Object(o.a)(ft,2),gt=bt[0],ht=bt[1],Et=Object(i.useState)(""),vt=Object(o.a)(Et,2),xt=vt[0],Ot=vt[1];function jt(){ht((function(t){return!t}))}Object(i.useEffect)((function(){n("".concat("https://starwars-mini-pedia.herokuapp.com/api","/users/"),"GET",null,{Authorization:"Bearer ".concat(dt.token)}).then((function(t){x(t)}))}),[]);var yt=function(){var t=Object(l.a)(r.a.mark((function t(e){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.prev=1,t.next=4,n("".concat("https://starwars-mini-pedia.herokuapp.com/api","/users/signup"),"POST",JSON.stringify({email:q,password:Y,name:X}),{"Content-Type":"application/json"});case 4:a=t.sent,x([].concat(Object(c.a)(v),[a])),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),alert(t.t0.message);case 12:St();case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),wt=function(){var t=Object(l.a)(r.a.mark((function t(e){var a,l,o,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.prev=1,t.next=4,n("".concat("https://starwars-mini-pedia.herokuapp.com/api","/users/").concat(_),"PATCH",JSON.stringify({email:P,name:y}),{"Content-Type":"application/json",Authorization:"Bearer ".concat(dt.token)});case 4:a=t.sent,l={_id:_,name:y,email:P},-1!==(o=v.findIndex((function(t){return t._id===_})))&&((i=Object(c.a)(v))[o]=l,x(i)),Ot(a.message),jt(),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(1),console.log(t.t0),Ot(t.t0.message),jt();case 17:Ct();case 18:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}(),kt=function(){var t=Object(l.a)(r.a.mark((function t(e,a){var l,o,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,n("".concat("https://starwars-mini-pedia.herokuapp.com/api","/users/").concat(e),"DELETE",null,{Authorization:"Bearer ".concat(dt.token)});case 4:l=t.sent,-1!==(o=v.findIndex((function(t){return t._id===e})))&&((i=Object(c.a)(v)).splice(o,1),x(i)),console.log(l),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0),alert(t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}(),Ct=function(t){t&&(z(t.email),w(t.name),G(t._id)),at((function(t){return!t}))},St=function(){ot((function(t){return!t}))};return lt?u.a.createElement(u.a.Fragment,null,u.a.createElement(b.a,null,u.a.createElement(h.a,null),u.a.createElement(f.a,{onClick:St},"Voltar")),a&&u.a.createElement(g.a,{asOverLay:!0}),u.a.createElement(p.a,{isOpen:gt,onRequestClose:jt,style:T,contentLabel:"Alert Modal"},u.a.createElement("div",null,xt),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(f.a,{onClick:jt},"Close")),u.a.createElement(N,null,u.a.createElement("form",{onSubmit:yt},!st&&u.a.createElement(L,null,"Please enter the name"),u.a.createElement(d.a,{type:"text",name:"newUserName",placeholder:"Name",value:X,setValue:W}),!it&&u.a.createElement(L,null,"Please enter a valid email address"),u.a.createElement(d.a,{type:"email",name:"newUserEmail",placeholder:"Email",value:q,setValue:B}),!ut&&u.a.createElement(L,null,"Password min 6 chars"),u.a.createElement(d.a,{type:"password",name:"newUserPassword",placeholder:"Password",value:Y,setValue:Z}),u.a.createElement(f.a,{type:"submit"},"Register")))):nt?u.a.createElement(u.a.Fragment,null,u.a.createElement(b.a,null,u.a.createElement(h.a,null),u.a.createElement(f.a,{onClick:function(){return Ct()}},"Voltar")),a&&u.a.createElement(g.a,{asOverLay:!0}),u.a.createElement(p.a,{isOpen:gt,onRequestClose:jt,style:T,contentLabel:"Alert Modal"},u.a.createElement("div",null,xt),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(f.a,{onClick:jt},"Close")),u.a.createElement(N,null,u.a.createElement("form",{onSubmit:wt},!pt&&u.a.createElement(L,null,"Please the name"),u.a.createElement(d.a,{type:"text",name:"newUserName",placeholder:"Name",value:y,setValue:w}),!mt&&u.a.createElement(L,null,"Please enter a valid email address"),u.a.createElement(d.a,{type:"email",name:"newUserEmail",placeholder:"Email",value:P,setValue:z}),u.a.createElement(f.a,{type:"submit"},"Edit")))):u.a.createElement(u.a.Fragment,null,u.a.createElement(b.a,null,u.a.createElement(h.a,null),u.a.createElement(f.a,{onClick:t.logout},"Logout")),u.a.createElement(k,null,u.a.createElement(b.a,null,u.a.createElement("h1",null,"Manage Users"),u.a.createElement(f.a,{onClick:St},"New User")),a&&u.a.createElement(g.a,null),u.a.createElement(C,null,u.a.createElement("span",null,"Name"),u.a.createElement("span",null,"Email"),u.a.createElement("span",null,"ID"),u.a.createElement("span",null,"Edit"),u.a.createElement("span",null,"Delete")),v&&v.map((function(t){return u.a.createElement(S,{key:t._id},u.a.createElement("span",null,t.name),u.a.createElement("span",null,t.email),u.a.createElement("span",null,t._id),u.a.createElement("span",null,u.a.createElement(m.b,{onClick:function(){return Ct(t)},size:20})),u.a.createElement("span",null,u.a.createElement(m.a,{onClick:function(e){return kt(t._id,e)},size:20})))}))))}}}]);
//# sourceMappingURL=5.c334904d.chunk.js.map