{"version":3,"sources":["assets/logo.svg","hooks/http-hook.js","components/Button/styles.js","components/Button/index.js","components/Logo/styles.js","components/Logo/index.js","util/validators.js","components/Input/styles.js","components/Input/index.js","components/Header/styles.js","components/Header/index.js","pages/Admin/styles.js","pages/Admin/index.js"],"names":["module","exports","useHttpClient","useState","isLoading","setIsLoading","error","setError","activeHttpRequests","useRef","sendRequest","useCallback","url","a","method","body","headers","httpAbortCtrl","AbortController","current","push","fetch","signal","response","json","responseData","filter","reqCtrl","ok","Error","message","useEffect","forEach","abortCtrl","abort","clearError","StyledButton","styled","button","Button","props","type","onClick","disabled","children","MainLogo","Logo","src","logo","alt","to","VALIDATOR_REQUIRE","VALIDATOR_MINLENGTH","val","VALIDATOR_EMAIL","validate","value","validators","isValid","validator","length","test","Label","label","Input","name","setValue","placeholder","htmlFor","onChange","e","target","MainHeader","header","Header","Container","section","Description","ListItens","FormContainer","div","Validate","small","Admin","auth","useContext","AuthContext","users","setUsers","editUserName","setEditUserName","editUserEmail","setEditUserEmail","Number","editUserId","setEditUserID","newUserEmail","setNewUserEmail","newUserName","setNewUserName","newUserPassword","setNewUserPassword","isEditMode","setIsEditMode","isNewUserMode","setIsNewUserMode","isNewUserEmailValid","isNewUserPasswordValid","isNewUserNameValid","isEditUserNameValid","isEditUserEmailValid","storedData","JSON","parse","localStorage","getItem","process","token","then","newUserSubmitHandler","event","preventDefault","stringify","email","password","console","log","alert","switchNewUserModeHandler","editUserSubmitHandler","switchEditModeHandler","deleteUserHandler","userId","user","_id","prevMode","asOverLay","onSubmit","logout","map","key","size"],"mappings":"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","file":"static/js/4.98c91e1d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.4e74481f.svg\";","import { useState, useCallback, useRef, useEffect } from 'react';\n\nexport const useHttpClient = () => {\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [error, setError] = useState();\n\n\tconst activeHttpRequests = useRef([]);\n\n\n\tconst sendRequest = useCallback(\n\t\tasync (url, method = 'GET', body = null, headers = {}) => {\n\t\t\tsetIsLoading(true);\n\n\t\t\t//caso o usuário realise alguma ação inesperada durante a aperação\n\t\t\tconst httpAbortCtrl = new AbortController();\n\t\t\tactiveHttpRequests.current.push(httpAbortCtrl);\n\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(url, {\n\t\t\t\t\tmethod: method,\n\t\t\t\t\tbody: body,\n\t\t\t\t\theaders: headers,\n\t\t\t\t\tsignal: httpAbortCtrl.signal\n\t\t\t\t});\n\n\t\t\t\tconst responseData = await response.json();\n\n\t\t\t\tactiveHttpRequests.current = activeHttpRequests.current.filter(\n\t\t\t\t\treqCtrl => reqCtrl !== httpAbortCtrl\n\t\t\t\t);\n\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(responseData.message);\n\t\t\t\t}\n\t\t\t\tsetIsLoading(false);\n\t\t\t\treturn responseData;\n\t\t\t} catch (err) {\n\t\t\t\tsetError(err.message);\n\t\t\t\tsetIsLoading(false);\n\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t}, []);\n\n\tconst clearError = () => {\n\t\tsetError(null);\n\t};\n\n\tuseEffect(() => {\n\t\treturn () => {\n\n\t\t\tactiveHttpRequests.current.forEach(abortCtrl => abortCtrl.abort());\n\t\t};\n\t}, []);\n\n\treturn { isLoading, error, sendRequest, clearError };\n};\n","import styled from 'styled-components';\n\nexport const StyledButton = styled.button`\n\theight: 35px;\n\twidth: 90px;\n\tbackground: #0d0d0d;\n\tborder: 1px solid #ffff33;\n\tcolor: #fff;\n\tfont-weight: bold;\n\tcursor: pointer;\n\ttext-decoration: none;\n\tdisplay: inline-block;\n\tborder-radius: 3px;\n\tfont-size: 14px;\n\n\t&:hover{\n\t\tcolor: #000000;\n\t\tbackground: #fff;\n\t\ttransition: 0.3s;\n\t}\n\n\t&:disabled,\n\t&:hover:disabled,\n\t&:active:disabled {\n\t\tbackground: #ccc;\n\t\tcolor: #979797;\n\t\tborder-color: #ccc;\n\t\tcursor: not-allowed;\n\t}\n`;\n","import React from 'react';\n\nimport { StyledButton } from './styles';\n\nconst Button = props => {\n\treturn (\n\t\t<StyledButton\n\t\t\ttype={props.type}\n\t\t\tonClick={props.onClick}\n\t\t\tdisabled={props.disabled}\n\t\t>\n\t\t\t{props.children}\n\t\t</StyledButton>\n\t);\n};\n\nexport default Button;\n","import styled from 'styled-components';\n\nexport const MainLogo = styled.button`\n\n\t&:hover{\n\t\tcursor: pointer;\n\t}\n\tbackground: rgba(0,0,0,0);\n\tborder: none;\n\n\timg{\n\t\twidth: 90px;\n\theight: 70px;\n\tborder-radius: 5px;\n\tpadding-left: 20px;\n\t}\n`;\n","import React from 'react';\n\nimport { MainLogo } from './styles';\nimport logo from '../../assets/logo.svg';\nimport { Link } from 'react-router-dom';\n\n//aqui dá pra fazer a logo dinâmica\n//trocar a por link depois\nconst Logo = () => {\n\treturn <MainLogo><img src={logo} alt=\"Logo\" /><Link to=\"/\"></Link></MainLogo>;\n};\n\nexport default Logo;\n","const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\nconst VALIDATOR_TYPE_MIN = 'MIN';\nconst VALIDATOR_TYPE_MAX = 'MAX';\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\nconst VALIDATOR_TYPE_FILE = 'FILE';\n\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\nexport const VALIDATOR_MINLENGTH = val => ({\n\ttype: VALIDATOR_TYPE_MINLENGTH,\n\tval: val\n});\nexport const VALIDATOR_MAXLENGTH = val => ({\n\ttype: VALIDATOR_TYPE_MAXLENGTH,\n\tval: val\n});\nexport const VALIDATOR_MIN = val => ({ type: VALIDATOR_TYPE_MIN, val: val });\nexport const VALIDATOR_MAX = val => ({ type: VALIDATOR_TYPE_MAX, val: val });\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\n\n//função que recebe o valor que o usuário digita e checa por todos os validators que foram passados como props\nexport const validate = (value, validators) => {\n\tlet isValid = true;\n\tfor (const validator of validators) {\n\t\tif (validator.type === VALIDATOR_TYPE_REQUIRE) {\n\t\t\tisValid = isValid && value.length > 0;\n\t\t}\n\t\tif (validator.type === VALIDATOR_TYPE_MINLENGTH) {\n\t\t\tisValid = isValid && value.length >= validator.val;\n\t\t}\n\t\tif (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\n\t\t\tisValid = isValid && value.length <= validator.val;\n\t\t}\n\t\tif (validator.type === VALIDATOR_TYPE_MIN) {\n\t\t\tisValid = isValid && +value >= validator.val;\n\t\t}\n\t\tif (validator.type === VALIDATOR_TYPE_MAX) {\n\t\t\tisValid = isValid && +value <= validator.val;\n\t\t}\n\t\tif (validator.type === VALIDATOR_TYPE_EMAIL) {\n\t\t\tisValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\n\t\t}\n\t}\n\treturn isValid;\n};\n","import styled from 'styled-components';\n\nexport const Label = styled.label`\n  display: flex;\n  position: relative;\n\tmargin-bottom: 2rem;\n\n  input {\n    background-color: #00001a;\n    border: 2px solid #cccc00;\n    border-radius: 3px;\n    padding: 16px;\n    color: #fff;\n    font-size: 16px;\n    transition: 180ms ease-in-out;\n    &::placeholder {\n      color: rgba(255, 255, 255, 0.4);\n    }\n\n    &:focus {\n      border: 2px solid;\n    }\n  }\n`;\n","import React from 'react';\n\nimport { Label } from './styles';\n\nconst Input = ({ name, type = 'text', value, setValue, placeholder }) => {\n\n\treturn (\n\t\t<Label htmlFor={name}>\n\t\t\t<input\n\t\t\t\tname={name}\n\t\t\t\ttype={type}\n\t\t\t\tvalue={value}\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\tonChange={(e) => setValue(e.target.value)}\n\t\t\t/>\n\t\t</Label>\n\t);\n\n}\n\nexport default Input;\n","import styled from 'styled-components';\n\nexport const MainHeader = styled.header`\n\twidth: 100%;\n  height: 4rem;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n\tbackground: rgba(0, 0, 0, 0.3);\n\tbox-shadow: 0 2px 6px rgba(0, 0, 0, 0.26);\n\tpadding-right: 10rem;\n\tpadding-left: 9rem;\n\n\t@media(max-width: 800px){\n\t\tpadding-right: 5rem;\n\tpadding-left: 4rem;\n}\n`;\n","import React from 'react';\n\nimport { MainHeader } from './styles';\n\nconst Header = props => {\n\treturn <MainHeader> {props.children} </MainHeader>;\n};\n\nexport default Header;\n","import styled from 'styled-components';\n\nexport const Container = styled.section`\n\tbackground: rgba(115, 115, 115, 0.4);\n\twidth: 90%vh;\n\tmax-width: 100%;\n\theight: 700px;\n\tborder-radius: 20px;\n\tmargin: 20px;\n\tmargin-top: 100px;\n\tpadding: 20px;\n\tHeader{\n\t\tposition: relative;\n\t\th1{\n\t\t\tcolor: #fff;\n\t\t}\n\t}\n`;\n\nexport const Description = styled.section`\n\tbackground: rgba(217, 217, 217, 0.4);\n\tmax-width: 100%;\n\tpadding: 10px;\n\tmargin-top: 5px;\n\tmargin-bottom: 5px;\n\n\tdisplay: grid;\n\tgrid-gap: 40px;\n\tgrid-template-columns: 1fr 2fr 2fr 0.5fr 0.5fr;\n\tspan{\n\t\tjustify-items: start;\n\t}\n`;\n\nexport const ListItens = styled.section`\n\tbackground: rgba(217, 217, 217, 0.4);\n\tmax-width: 100%;\n\tpadding: 10px;\n\tmargin-top: 5px;\n\tmargin-bottom: 5px;\n\n\tdisplay: grid;\n\tgrid-gap: 50px;\n\tgrid-template-columns: 10% 2fr 2fr 0.5fr 0.5fr;\n\tspan{\n\t\tjustify-items: start;\n\n\t\tsvg{\n\t\t\t&:hover{\n\t\t\tcursor: pointer;\n\t\t}\n\t\t}\n\t}\n`;\n\nexport const FormContainer = styled.div`\n\tbackground: #262626;\n\twidth: 320px;\n\tmargin: 180px auto;\n\tpadding: 10px;\n\tborder-radius: 5px;\n\n\t\tbutton img{\n\t\t\twidth: 100px;\n\t\t\tmargin-left: 90px;\n\t\t}\n\n\t\th1{\n\t\t\tcolor: #fff;\n\t\t\tmargin-bottom: 10px;\n\t\t\tmargin-left: 110px;\n\t\t}\n\t\tform label{\n\t\t\tjustify-content: space-evenly;\n\t\t}\n\t\tform Button {\n\t\t\twidth: 220px;\n\t\t\tmargin-left: 40px;\n\t\t\tfont-size: 16px;\n\t\t}\n`;\n\nexport const Validate = styled.small`\ncolor: #ff3333;\nmargin-left: 50px;\n`;\n\n\n","import React, { useState, useEffect, useContext } from 'react';\n\nimport { AiFillEdit, AiFillDelete } from 'react-icons/ai';\n\nimport Input from '../../components/Input';\nimport Button from '../../components/Button';\nimport Header from '../../components/Header';\nimport LoadingSpinner from '../../components/LoadingSpiner';\nimport Logo from '../../components/Logo';\nimport { Container, Description, ListItens, Validate, FormContainer } from './styles';\nimport { validate, VALIDATOR_EMAIL, VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE } from '../../util/validators';\n\nimport { useHttpClient } from '../../hooks/http-hook';\nimport { AuthContext } from './../../util/AuthContext';\n\nconst Admin = () => {\n\n\tconst auth = useContext(AuthContext);\n\tconst { sendRequest, isLoading } = useHttpClient();\n\n\tconst [users, setUsers] = useState([]);\n\n\tconst [editUserName, setEditUserName] = useState('');\n\tconst [editUserEmail, setEditUserEmail] = useState('');\n\tconst [editUserId, setEditUserID] = useState(Number);\n\tconst [newUserEmail, setNewUserEmail] = useState('');\n\tconst [newUserName, setNewUserName] = useState('');\n\tconst [newUserPassword, setNewUserPassword] = useState('');\n\n\tconst [isEditMode, setIsEditMode] = useState(false);\n\tconst [isNewUserMode, setIsNewUserMode] = useState(false);\n\n\t//isso aqui está horrivel e dá pra melhorar, é temporário...\n\tconst isNewUserEmailValid = validate(newUserEmail, [VALIDATOR_EMAIL(), VALIDATOR_REQUIRE()]);\n\tconst isNewUserPasswordValid = validate(newUserPassword, [VALIDATOR_MINLENGTH(6)]);\n\tconst isNewUserNameValid = validate(newUserName, [VALIDATOR_REQUIRE()]);\n\n\tconst isEditUserNameValid = validate(editUserName, [VALIDATOR_REQUIRE()]);\n\tconst isEditUserEmailValid = validate(editUserEmail, [VALIDATOR_EMAIL(), VALIDATOR_REQUIRE()]);\n\n\tconst storedData = JSON.parse(localStorage.getItem('userData'));\n\n\tuseEffect(() => {\n\t\tsendRequest(`${process.env.REACT_APP_BACKEND_URL}/users/`,\n\t\t\t'GET',\n\t\t\tnull,\n\t\t\t{\n\t\t\t\t'Authorization': `Bearer ${storedData.token}`\n\t\t\t}\n\t\t).then((response) => {\n\t\t\tsetUsers(response);\n\t\t});\n\t\treturn;\n\t}, []);\n\n\tconst newUserSubmitHandler = async (event) => {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tconst response = await sendRequest(\n\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/users/signup`,\n\t\t\t\t'POST',\n\t\t\t\tJSON.stringify({\n\t\t\t\t\temail: newUserEmail,\n\t\t\t\t\tpassword: newUserPassword,\n\t\t\t\t\tname: newUserName,\n\t\t\t\t}),\n\t\t\t\t{\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t);\n\t\t\tconsole.log(response);\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t\talert(err.message);\n\t\t}\n\t\tswitchNewUserModeHandler();\n\t}\n\n\tconst editUserSubmitHandler = async (event) => {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tconst response = await sendRequest(\n\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/users/${editUserId}`,\n\t\t\t\t'PATCH',\n\t\t\t\tJSON.stringify({\n\t\t\t\t\temail: editUserEmail,\n\t\t\t\t\tname: editUserName,\n\t\t\t\t}),\n\t\t\t\t{\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Authorization': `Bearer ${storedData.token}`\n\t\t\t\t}\n\t\t\t);\n\t\t\tconsole.log(response);\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t\talert(err.message);\n\t\t}\n\t\tswitchEditModeHandler();\n\t}\n\n\t//falta colocar uma confirmação aqui, ... na verdade falta no aplicativo inteiro...\n\tconst deleteUserHandler = async (userId, event) => {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tconst response = await sendRequest(\n\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/users/${userId}`,\n\t\t\t\t'DELETE',\n\t\t\t\tnull,\n\t\t\t\t{\n\t\t\t\t\t'Authorization': `Bearer ${storedData.token}`\n\t\t\t\t}\n\t\t\t);\n\t\t\tconsole.log(response);\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t\talert(err.message);\n\t\t}\n\t}\n\n\tconst switchEditModeHandler = (user) => {\n\t\tif (user) {\n\t\t\tsetEditUserEmail(user.email);\n\t\t\tsetEditUserName(user.name);\n\t\t\tsetEditUserID(user._id);\n\t\t}\n\t\tsetIsEditMode((prevMode) => !prevMode);\n\t}\n\tconst switchNewUserModeHandler = () => {\n\t\tsetIsNewUserMode((prevMode) => !prevMode);\n\t}\n\n\tif (isNewUserMode) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Header>\n\t\t\t\t\t<Logo />\n\t\t\t\t\t<Button onClick={switchNewUserModeHandler} >Voltar</Button>\n\t\t\t\t</Header>\n\t\t\t\t{isLoading && <LoadingSpinner asOverLay />}\n\t\t\t\t<FormContainer>\n\t\t\t\t\t<form onSubmit={newUserSubmitHandler}>\n\t\t\t\t\t\t{!isNewUserNameValid && (\n\t\t\t\t\t\t\t<Validate>Please enter the name</Validate>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"newUserName\"\n\t\t\t\t\t\t\tplaceholder=\"Name\"\n\t\t\t\t\t\t\tvalue={newUserName}\n\t\t\t\t\t\t\tsetValue={setNewUserName}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{!isNewUserEmailValid && (\n\t\t\t\t\t\t\t<Validate>Please enter a valid email address</Validate>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\tname=\"newUserEmail\"\n\t\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\t\tvalue={newUserEmail}\n\t\t\t\t\t\t\tsetValue={setNewUserEmail}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{!isNewUserPasswordValid && (\n\t\t\t\t\t\t\t<Validate>Password min 6 chars</Validate>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tname=\"newUserPassword\"\n\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t\tvalue={newUserPassword}\n\t\t\t\t\t\t\tsetValue={setNewUserPassword}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button type=\"submit\">Register</Button>\n\t\t\t\t\t</form>\n\t\t\t\t</FormContainer>\n\t\t\t</>\n\t\t);\n\t}\n\tif (isEditMode) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Header>\n\t\t\t\t\t<Logo />\n\t\t\t\t\t<Button onClick={() => switchEditModeHandler()} >Voltar</Button>\n\t\t\t\t</Header>\n\t\t\t\t{isLoading && <LoadingSpinner asOverLay />}\n\t\t\t\t<FormContainer>\n\t\t\t\t\t<form onSubmit={editUserSubmitHandler}>\n\t\t\t\t\t\t{!isEditUserNameValid && (\n\t\t\t\t\t\t\t<Validate>Please the name</Validate>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"newUserName\"\n\t\t\t\t\t\t\tplaceholder=\"Name\"\n\t\t\t\t\t\t\tvalue={editUserName}\n\t\t\t\t\t\t\tsetValue={setEditUserName}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{!isEditUserEmailValid && (\n\t\t\t\t\t\t\t<Validate>Please enter a valid email address</Validate>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\tname=\"newUserEmail\"\n\t\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\t\tvalue={editUserEmail}\n\t\t\t\t\t\t\tsetValue={setEditUserEmail}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button type=\"submit\">Edit</Button>\n\t\t\t\t\t</form>\n\t\t\t\t</FormContainer>\n\t\t\t</>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Header>\n\t\t\t\t<Logo />\n\t\t\t\t<Button onClick={auth.logout} >Logout</Button>\n\t\t\t</Header>\n\t\t\t<Container>\n\t\t\t\t<Header>\n\t\t\t\t\t<h1>Manage Users</h1>\n\t\t\t\t\t<Button onClick={switchNewUserModeHandler}>New User</Button>\n\t\t\t\t</Header>\n\t\t\t\t{isLoading && <LoadingSpinner />}\n\t\t\t\t<Description>\n\t\t\t\t\t<span>Name</span>\n\t\t\t\t\t<span>Email</span>\n\t\t\t\t\t<span>ID</span>\n\t\t\t\t\t<span>Edit</span>\n\t\t\t\t\t<span>Delete</span>\n\t\t\t\t</Description>\n\t\t\t\t{\n\t\t\t\t\tusers && (\n\t\t\t\t\t\tusers.map((user) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<ListItens key={user._id}>\n\t\t\t\t\t\t\t\t\t<span>{user.name}</span>\n\t\t\t\t\t\t\t\t\t<span>{user.email}</span>\n\t\t\t\t\t\t\t\t\t<span>{user._id}</span>\n\t\t\t\t\t\t\t\t\t<span><AiFillEdit onClick={() => switchEditModeHandler(user)} size={20} /></span>\n\t\t\t\t\t\t\t\t\t<span><AiFillDelete onClick={(event) => deleteUserHandler(user._id, event)} size={20} /></span>\n\t\t\t\t\t\t\t\t</ListItens>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</Container>\n\t\t</>\n\t)\n}\n\nexport default Admin;\n"],"sourceRoot":""}