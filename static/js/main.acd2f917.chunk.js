(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[2],{14:function(e,t,n){"use strict";var a=n(0),l=n.n(a);n(28);t.a=function(e){return l.a.createElement("div",{className:"loading-spinner__overlay"},l.a.createElement("div",{className:"lds-dual-ring"}))}},15:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),l=Object(a.createContext)({isLoggedIn:!1,userId:null,token:null,login:function(){},logout:function(){}})},21:function(e,t,n){e.exports=n(34)},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a,l=n(0),r=n.n(l),c=n(19),u=n.n(c),o=(n(26),n(8)),i=n(1),s=n(13),m=(n(27),n(15)),b=n(14),f=r.a.lazy((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,69))})),E=r.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(6)]).then(n.bind(null,70))})),d=r.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(9),n.e(5)]).then(n.bind(null,71))})),g=r.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(7)]).then(n.bind(null,72))})),p=function(){var e,t=Object(l.useState)(!1),n=Object(o.a)(t,2),c=n[0],u=n[1],p=Object(l.useState)(!1),v=Object(o.a)(p,2),O=v[0],h=v[1],D=Object(l.useState)(),S=Object(o.a)(D,2),j=S[0],k=S[1],I=Object(l.useCallback)((function(e,t,n){u(t),h(e);var a=n||new Date((new Date).getTime()+432e5);k(a),localStorage.setItem("userData",JSON.stringify({userId:e,token:t,expirationDate:a.toISOString()}))}),[]),w=Object(l.useCallback)((function(){u(null),h(null),k(null),localStorage.removeItem("userData")}),[]);return Object(l.useEffect)((function(){if(c&&j){var e=j.getTime()-(new Date).getTime();a=setTimeout(w,e)}else clearTimeout(a)}),[c,w,j]),Object(l.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&new Date(e.expirationDate)>new Date&&I(e.userId,e.token,new Date(e.expirationDate))}),[I]),e=c?r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",exact:!0},r.a.createElement(f,null)),r.a.createElement(i.b,{path:"/admin"},r.a.createElement(d,null)),r.a.createElement(i.a,{to:"/"})):r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",exact:!0},r.a.createElement(f,null)),r.a.createElement(i.b,{path:"/login",exact:!0},r.a.createElement(E,null)),r.a.createElement(i.b,{path:"/resetpass/:token"},r.a.createElement(g,null)),r.a.createElement(i.a,{to:"/"})),r.a.createElement(m.a.Provider,{value:{isLoggedIn:!!c,token:c,userId:O,login:I,logout:w}},r.a.createElement(s.a,null,r.a.createElement("main",null,r.a.createElement(l.Suspense,{fallback:r.a.createElement("div",{className:"center"},r.a.createElement(b.a,null))},e))))};u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p,null)),document.getElementById("root"))}},[[21,3,4]]]);
//# sourceMappingURL=main.acd2f917.chunk.js.map