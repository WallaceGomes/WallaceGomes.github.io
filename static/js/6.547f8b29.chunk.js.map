{"version":3,"sources":["assets/logo.svg","hooks/http-hook.js","components/Button/styles.js","components/Button/index.js","components/Logo/styles.js","components/Logo/index.js","components/Header/styles.js","components/Header/index.js","pages/Admin/styles.js","pages/Admin/index.js"],"names":["module","exports","useHttpClient","useState","isLoading","setIsLoading","error","setError","activeHttpRequests","useRef","sendRequest","useCallback","url","a","method","body","headers","httpAbortCtrl","AbortController","current","push","fetch","signal","response","json","responseData","filter","reqCtrl","ok","Error","message","useEffect","forEach","abortCtrl","abort","clearError","StyledButton","styled","button","Button","props","type","onClick","disabled","children","MainLogo","Logo","src","logo","alt","to","MainHeader","header","Header","Container","section","Description","ListItens","Admin","users","setUsers","auth","useContext","AuthContext","storedData","JSON","parse","localStorage","getItem","process","token","then","logout","console","log","LoadingSpinner","map","user","key","_id","name","email","created_at","updated_at"],"mappings":"8EAAAA,EAAOC,QAAU,IAA0B,kC,6GCE9BC,EAAgB,WAAO,IAAD,EACAC,oBAAS,GADT,mBAC3BC,EAD2B,KAChBC,EADgB,OAERF,qBAFQ,mBAE3BG,EAF2B,KAEpBC,EAFoB,KAI5BC,EAAqBC,iBAAO,IAI5BC,EAAcC,sBAAW,uCAC9B,WAAOC,GAAP,qCAAAC,EAAA,6DAAYC,EAAZ,+BAAqB,MAAOC,EAA5B,+BAAmC,KAAMC,EAAzC,+BAAmD,GAClDX,GAAa,GAGPY,EAAgB,IAAIC,gBAC1BV,EAAmBW,QAAQC,KAAKH,GALjC,kBAQyBI,MAAMT,EAAK,CACjCE,OAAQA,EACRC,KAAMA,EACNC,QAASA,EACTM,OAAQL,EAAcK,SAZzB,cAQQC,EARR,iBAe6BA,EAASC,OAftC,WAeQC,EAfR,OAiBEjB,EAAmBW,QAAUX,EAAmBW,QAAQO,QACvD,SAAAC,GAAO,OAAIA,IAAYV,KAGnBM,EAASK,GArBhB,uBAsBS,IAAIC,MAAMJ,EAAaK,SAtBhC,eAwBEzB,GAAa,GAxBf,kBAyBSoB,GAzBT,wCA2BElB,EAAS,KAAIuB,SACbzB,GAAa,GA5Bf,+DAD8B,sDAkC3B,IAcJ,OAPA0B,qBAAU,WACT,OAAO,WAENvB,EAAmBW,QAAQa,SAAQ,SAAAC,GAAS,OAAIA,EAAUC,cAEzD,IAEI,CAAE9B,YAAWE,QAAOI,cAAayB,WAZrB,WAClB5B,EAAS,U,0mBC7CJ,IAAM6B,E,MAAeC,EAAOC,OAAV,KCcVC,IAZA,SAAAC,GACd,OACC,kBAACJ,EAAD,CACCK,KAAMD,EAAMC,KACZC,QAASF,EAAME,QACfC,SAAUH,EAAMG,UAEfH,EAAMI,Y,2TCTH,IAAMC,E,MAAWR,EAAOC,OAAV,K,yBCUNQ,IAJF,WACZ,OAAO,kBAACD,EAAD,KAAU,yBAAKE,IAAKC,IAAMC,IAAI,SAAS,kBAAC,IAAD,CAAMC,GAAG,S,mfCPjD,IAAMC,E,MAAad,EAAOe,OAAV,KCMRC,IAJA,SAAAb,GACd,OAAO,kBAACW,EAAD,SAAcX,EAAMI,SAApB,O,+7BCHD,IAAMU,EAAYjB,IAAOkB,QAAV,KAiBTC,EAAcnB,IAAOkB,QAAV,KAWXE,EAAYpB,IAAOkB,QAAV,K,gBCyCPG,UA5DD,WAAO,IAAD,EAEgBxD,cAA3BQ,EAFW,EAEXA,YAAaN,EAFF,EAEEA,UAFF,EAIOD,mBAAS,IAJhB,mBAIZwD,EAJY,KAILC,EAJK,KAKbC,EAAOC,qBAAWC,KAgBxB,OAdAhC,qBAAU,WACT,IAAMiC,EAAaC,KAAKC,MAAMC,aAAaC,QAAQ,aAEnD1D,EAAY,GAAD,OAAI2D,gDAAJ,WACV,MACA,KACA,CACC,cAAiB,oBAAeL,EAAWM,SAE3CC,MAAK,SAAChD,GACPqC,EAASrC,QAER,IAGF,oCACC,kBAAC8B,EAAA,EAAD,KACC,kBAACP,EAAA,EAAD,MACA,kBAACP,EAAA,EAAD,CAAQG,QAASmB,EAAKW,QAAtB,WAED,kBAAClB,EAAD,KACC,kBAACD,EAAA,EAAD,KACC,4CACA,kBAACd,EAAA,EAAD,CAAQG,QAAS,kBAAO+B,QAAQC,IAAIf,KAApC,aAEAvD,GAAauE,IACd,kBAACnB,EAAD,KACC,oCACA,sCACA,uCACA,4CACA,6CAGAG,GACCA,EAAMiB,KAAI,SAACC,GACV,OACC,kBAACpB,EAAD,CAAWqB,IAAKD,EAAKE,KACpB,8BAAOF,EAAKE,KACZ,8BAAOF,EAAKG,MACZ,8BAAOH,EAAKI,OACZ,8BAAOJ,EAAKK,YACZ,8BAAOL,EAAKM,YAAc","file":"static/js/6.547f8b29.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.4e74481f.svg\";","import { useState, useCallback, useRef, useEffect } from 'react';\n\nexport const useHttpClient = () => {\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [error, setError] = useState();\n\n\tconst activeHttpRequests = useRef([]);\n\n\t//useCallback = evitar que essa função seja recriada toda vez que um component\n\t// que utiliza este hook rerender\n\tconst sendRequest = useCallback(\n\t\tasync (url, method = 'GET', body = null, headers = {}) => {\n\t\t\tsetIsLoading(true);\n\n\t\t\t//caso o usuário realise alguma ação inesperada durante a aperação\n\t\t\tconst httpAbortCtrl = new AbortController();\n\t\t\tactiveHttpRequests.current.push(httpAbortCtrl);\n\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(url, {\n\t\t\t\t\tmethod: method,\n\t\t\t\t\tbody: body,\n\t\t\t\t\theaders: headers,\n\t\t\t\t\tsignal: httpAbortCtrl.signal\n\t\t\t\t});\n\n\t\t\t\tconst responseData = await response.json();\n\n\t\t\t\tactiveHttpRequests.current = activeHttpRequests.current.filter(\n\t\t\t\t\treqCtrl => reqCtrl !== httpAbortCtrl\n\t\t\t\t);\n\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(responseData.message);\n\t\t\t\t}\n\t\t\t\tsetIsLoading(false);\n\t\t\t\treturn responseData;\n\t\t\t} catch (err) {\n\t\t\t\tsetError(err.message);\n\t\t\t\tsetIsLoading(false);\n\t\t\t\t//caso ocorra algum erro precisa do throw para sair\n\t\t\t\t// se não vai continuar a lógica no componente\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t}, []);\n\n\tconst clearError = () => {\n\t\tsetError(null);\n\t};\n\n\t//useEffect também pode ser usado no unmount do componente\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\t\tactiveHttpRequests.current.forEach(abortCtrl => abortCtrl.abort());\n\t\t};\n\t}, []);\n\n\treturn { isLoading, error, sendRequest, clearError };\n};\n","import styled from 'styled-components';\n\nexport const StyledButton = styled.button`\n\theight: 35px;\n\twidth: 90px;\n\tbackground: #0d0d0d;\n\tborder: 1px solid #ffff33;\n\tcolor: #fff;\n\tfont-weight: bold;\n\tcursor: pointer;\n\ttext-decoration: none;\n\tdisplay: inline-block;\n\tborder-radius: 3px;\n\tfont-size: 14px;\n\n\t&:hover{\n\t\tcolor: #000000;\n\t\tbackground: #fff;\n\t\ttransition: 0.3s;\n\t}\n\n\t&:disabled,\n\t&:hover:disabled,\n\t&:active:disabled {\n\t\tbackground: #ccc;\n\t\tcolor: #979797;\n\t\tborder-color: #ccc;\n\t\tcursor: not-allowed;\n\t}\n`;\n","import React from 'react';\n\nimport { StyledButton } from './styles';\n\nconst Button = props => {\n\treturn (\n\t\t<StyledButton\n\t\t\ttype={props.type}\n\t\t\tonClick={props.onClick}\n\t\t\tdisabled={props.disabled}\n\t\t>\n\t\t\t{props.children}\n\t\t</StyledButton>\n\t);\n};\n\nexport default Button;\n","import styled from 'styled-components';\n\nexport const MainLogo = styled.button`\n\n\t&:hover{\n\t\tcursor: pointer;\n\t}\n\tbackground: rgba(0,0,0,0);\n\tborder: none;\n\n\timg{\n\t\twidth: 90px;\n\theight: 70px;\n\tborder-radius: 5px;\n\tpadding-left: 20px;\n\t}\n`;\n","import React from 'react';\n\nimport { MainLogo } from './styles';\nimport logo from '../../assets/logo.svg';\nimport { Link } from 'react-router-dom';\n\n//aqui dá pra fazer a logo dinâmica\n//trocar a por link depois\nconst Logo = () => {\n\treturn <MainLogo><img src={logo} alt=\"Logo\" /><Link to=\"/\"></Link></MainLogo>;\n};\n\nexport default Logo;\n","import styled from 'styled-components';\n\nexport const MainHeader = styled.header`\n\twidth: 100%;\n  height: 4rem;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n\tbackground: rgba(0, 0, 0, 0.3);\n\tbox-shadow: 0 2px 6px rgba(0, 0, 0, 0.26);\n\tpadding-right: 10rem;\n\tpadding-left: 9rem;\n\n\t@media(max-width: 800px){\n\t\tpadding-right: 5rem;\n\tpadding-left: 4rem;\n}\n`;\n","import React from 'react';\n\nimport { MainHeader } from './styles';\n\nconst Header = props => {\n\treturn <MainHeader> {props.children} </MainHeader>;\n};\n\nexport default Header;\n","import styled from 'styled-components';\n\nexport const Container = styled.section`\n\tbackground: rgba(115, 115, 115, 0.4);\n\twidth: 90%vh;\n\tmax-width: 100%;\n\theight: 700px;\n\tborder-radius: 20px;\n\tmargin: 20px;\n\tmargin-top: 100px;\n\tpadding: 20px;\n\tHeader{\n\t\tposition: relative;\n\t\th1{\n\t\t\tcolor: #fff;\n\t\t}\n\t}\n`;\n\nexport const Description = styled.section`\n\tbackground: rgba(217, 217, 217, 0.4);\n\tmax-width: 100%;\n\tpadding: 10px;\n\tmargin-top: 5px;\n\tmargin-bottom: 5px;\n\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr 1fr 1fr 1fr;\n`;\n\nexport const ListItens = styled.section`\n\tbackground: rgba(217, 217, 217, 0.4);\n\tmax-width: 100%;\n\tpadding: 10px;\n\tmargin-top: 5px;\n\tmargin-bottom: 5px;\n\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr 1fr 1fr 1fr;\n`;\n","import React, { useState, useEffect, useContext } from 'react';\n\nimport Button from '../../components/Button';\nimport Header from '../../components/Header';\nimport LoadingSpinner from '../../components/LoadingSpiner';\nimport Logo from '../../components/Logo';\nimport { Container, Description, ListItens } from './styles';\n\nimport { useHttpClient } from '../../hooks/http-hook';\nimport { AuthContext } from './../../util/AuthContext';\n\nconst Admin = () => {\n\n\tconst { sendRequest, isLoading } = useHttpClient();\n\n\tconst [users, setUsers] = useState([]);\n\tconst auth = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\tconst storedData = JSON.parse(localStorage.getItem('userData'));\n\n\t\tsendRequest(`${process.env.REACT_APP_BACKEND_URL}/users/`,\n\t\t\t'GET',\n\t\t\tnull,\n\t\t\t{\n\t\t\t\t'Authorization': 'Bearer ' + `${storedData.token}`\n\t\t\t}\n\t\t).then((response) => {\n\t\t\tsetUsers(response);\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<Header>\n\t\t\t\t<Logo />\n\t\t\t\t<Button onClick={auth.logout} >Logout</Button>\n\t\t\t</Header>\n\t\t\t<Container>\n\t\t\t\t<Header>\n\t\t\t\t\t<h1>Manage Users</h1>\n\t\t\t\t\t<Button onClick={() => (console.log(users))}>New User</Button>\n\t\t\t\t</Header>\n\t\t\t\t{isLoading && LoadingSpinner}\n\t\t\t\t<Description>\n\t\t\t\t\t<span>ID</span>\n\t\t\t\t\t<span>Name</span>\n\t\t\t\t\t<span>Email</span>\n\t\t\t\t\t<span>Created at</span>\n\t\t\t\t\t<span>Updated at</span>\n\t\t\t\t</Description>\n\t\t\t\t{\n\t\t\t\t\tusers && (\n\t\t\t\t\t\tusers.map((user) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<ListItens key={user._id}>\n\t\t\t\t\t\t\t\t\t<span>{user._id}</span>\n\t\t\t\t\t\t\t\t\t<span>{user.name}</span>\n\t\t\t\t\t\t\t\t\t<span>{user.email}</span>\n\t\t\t\t\t\t\t\t\t<span>{user.created_at}</span>\n\t\t\t\t\t\t\t\t\t<span>{user.updated_at || 'N/A'}</span>\n\t\t\t\t\t\t\t\t</ListItens>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</Container>\n\t\t</>\n\t)\n}\n\nexport default Admin;\n"],"sourceRoot":""}